BEGIN TRANSACTION;
UPDATE [TB_USUARIOS] SET [PasswordHash] = 0xF2869ADB2A35C60EA6201B04C7336252C893F0C9865E9AEB2C47DDD243863787500D5FD8691335724498654E7FB4BFE3869A2C049C593DB7A6E7D7BD74A7ACD7, [PasswordSalt] = 0x7444708F1A0E677B56845C437F079A755CE8DBFE65B5A80E9BD0D20C3E969E4CCDD38208A589916A03D74BAEE17E5056B88B8B3EAC1E2C7DD5CB7255A50E43552CC97B37E263F47632C25E8EE3F88BFF640B0F879558E607048E70FD1DE317C511BF205DDEA16D08A9EA315C8A17A99896B1F8FCFF229EF5F9A0E3029375323E
WHERE [Id] = 1;
SELECT @@ROWCOUNT;


INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250421220523_TestMigration', N'9.0.2');

ALTER TABLE [TB_USUARIOS] DROP CONSTRAINT [FK_TB_USUARIOS_TB_USUARIOS_UsuarioOgId];

DROP INDEX [IX_TB_USUARIOS_UsuarioOgId] ON [TB_USUARIOS];

DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[TB_USUARIOS]') AND [c].[name] = N'Classe');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [TB_USUARIOS] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [TB_USUARIOS] DROP COLUMN [Classe];

DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[TB_USUARIOS]') AND [c].[name] = N'FotoPersonagem');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [TB_USUARIOS] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [TB_USUARIOS] DROP COLUMN [FotoPersonagem];

DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[TB_USUARIOS]') AND [c].[name] = N'UsuarioId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [TB_USUARIOS] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [TB_USUARIOS] DROP COLUMN [UsuarioId];

DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[TB_USUARIOS]') AND [c].[name] = N'UsuarioOgId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [TB_USUARIOS] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [TB_USUARIOS] DROP COLUMN [UsuarioOgId];

UPDATE [TB_HABILIDADES] SET [Nome] = N'Paralizar'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;


UPDATE [TB_HABILIDADES] SET [Nome] = N'Fritar'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;


UPDATE [TB_HABILIDADES] SET [Nome] = N'Entrar na mente'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;


UPDATE [TB_USUARIOS] SET [Email] = N'email@gmail.com', [PasswordHash] = 0xD8C13C0ACAF947D27BB8C460DA20F809E9850DA04ED7B0A830D886F9E719CA0AB64EAFB1E22D6619EA816102254FC9C208F22E4DB7733F93147BACE38B72D16B, [PasswordSalt] = 0x35C3EEC598FA205B7F09B5B94A31427ECE54D6EDC7DC32A5C5EE09A01C28C80DEBE31AE21CF28F1CA9C295DA43D4C5A844ED33DE1279D08545836E3E0495E8B49795AD717514C8530C23ED0C33A232BAC8FB31F04D0D32DEE94C0FF0D1498B403208445BE437906FEFB139AF3FCBABBB97989CD0E56D7AD0953D91AFBC725994, [Username] = N'userAdm'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;


INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250427181525_MigracaoArma', N'9.0.2');

COMMIT;
GO

